<!DOCTYPE html>
<html lang="en">
<head>
    <title>Customer Registration</title>
</head>
    <body>
        <h1>Customer Registration</h1>
        <form id="registrationForm">
            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" required><br><br>
            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" required><br><br>
            <label for="dateOfBirth">Date of Birth:</label>
            <input type="date" id="dateOfBirth" name="dateOfBirth" required><br><br>
            <button type="submit">Register</button>
        </form>
    </body>
    <script>
        document.getElementById("registrationForm").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent default form submission

            const firstName = document.getElementById("firstName").value;
            const lastName = document.getElementById("lastName").value;
            const dateOfBirth = document.getElementById("dateOfBirth").value;

            const data = {
                firstName: firstName,
                lastName: lastName,
                dateOfBirth: dateOfBirth
            };

            fetch("/customers/register", {
                method: "POST",
                headers: {
                    "accept": "application/json",
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            })
                .then(response => {
                    if (response.ok) {
                        // Handle successful registration (e.g., redirect to success page)
                    } else {
                        // Handle registration error (e.g., display error message)
                    }
                })
                .catch(error => {
                    console.error("Error submitting registration:", error);
                });
        });
    </script>
</html>
